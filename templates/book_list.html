{% extends "base.html" %}
{% block title %}This &amp; that{% endblock %}
{% block content %}
<div class="content">
    <form action='{% url 'create_book' %}'>
        <button type="submit">Create New Book</button>
    </form>
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Author</th>
                <th scope="col">Name</th>
                <th scope="col">Year</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for i in books %}
            <tr>
                <td colspan="0" id="book_{{i.id}}_name">{{i.id|default:"-"}}</td>
                {% for author in i.author_set.all %}
                    <td colspan="1" id="book_{{i.id}}_author">{{author|default:"-"}}</td>
                {% endfor%}
                <td colspan="2" id="book_{{i.id}}_name">{{i.name|default:"-"}}</td>
                <td colspan="3" id="book_{{i.id}}_year">{{i.year|default:"-"}}</td>
                <td colspan="4">
                    <form action='{% url 'details' i.id %}'>
                        <button type="submit">View Details</button>
                    </form>
                    <form action='{% url 'edit_book' i.id %}'>
                        <button type="submit">Edit record</button>
                    </form>
                    <form action='{% url 'delete_book' i.id %}' method="">
                        <button type="submit">Delete record</button>
                    </form>
                </td>
            </tr>
            {% endfor%}
        </tbody>
    </table>
</div>

{% endblock %}